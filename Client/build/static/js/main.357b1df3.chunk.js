(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(10),a=n.n(r),s=n(3),o=n.n(s),u=n(4),l=n(2),d=n(0);function p(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),i=n[0],r=n[1];function a(e){e.preventDefault(),r(!i)}return Object(d.jsxs)("div",{className:"recipe-container",onMouseEnter:function(e){return a(e)},onMouseLeave:function(e){return a(e)},children:[Object(d.jsx)("h3",{onClick:function(){e.toggleRecDet(),e.updateRecipeDet(e.recipeTitle,e.recipeDescription,e.recipeIngredients)},className:"recipe-title",children:e.recipeTitle}),e.isOpenEdit?null:Object(d.jsxs)(d.Fragment,{children:[e.isOpenCalc?Object(d.jsx)("div",{className:i&&e.isOpenAdd?"edit-recipe-btn":"hide",onClick:function(t){t.preventDefault(),window.history.replaceState(null,null,"/recipes/".concat(e.recipeId)),e.onEdit(e.recipeId)},children:"EDIT"}):null,e.isOpenCalc?Object(d.jsx)("div",{className:i&&e.isOpenAdd?"remove-recipe-btn":"hide",onClick:function(){e.onRemove(e.recipeId)},children:"REMOVE"}):null,e.isOpenCalc?null:Object(d.jsx)("div",{className:i?"openCalc-btn":"hide",onClick:function(){e.getRecipe(e.recipeId),window.history.replaceState(null,null,"/recipes/".concat(e.recipeId))},children:"Add To List"})]})]})}function j(e){return Object(d.jsxs)("div",{className:"recipeDet-container",children:[Object(d.jsxs)("h2",{className:"recipeDet-title",children:["How to cook ",e.recipeTitle,"?"]}),Object(d.jsx)("div",{className:"recipeDet-des",children:Object(d.jsx)("p",{children:e.recipeDescription})}),Object(d.jsxs)("div",{className:"recipeDet-ings",children:[Object(d.jsx)("h4",{children:"You will need:"}),Object.entries(e.recipeIngredients).map((function(e,t){return Object(d.jsxs)("p",{children:[e[1].ingTitle," ",e[1].amount," ",e[1].unit,Object(d.jsx)("br",{})]},"ing-".concat(t))}))]})]})}function O(e){return Object(d.jsx)("button",{className:e.isOpenCalc?"btn calculate-btn":"btn close-btn",onClick:e.toggleCalculate,children:e.isOpenCalc?"SHOP":"CLOSE SHOP"})}function b(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),i=n[0],r=n[1],a=Object(c.useState)([]),s=Object(l.a)(a,2),o=s[0],u=s[1],p=Object(c.useState)([]),j=Object(l.a)(p,2),O=j[0],b=j[1];return Object(c.useEffect)((function(){e.recipeToShop.title&&(r(i.concat([e.recipeToShop])),console.log(i))}),[e.recipeToShop]),Object(c.useEffect)((function(){!function(e){var t=[];e.forEach((function(e){t.push(e.ingredients)})),u(t)}(i)}),[i]),Object(c.useEffect)((function(){!function(){for(var e=o.flat(),t=[],n=function(n){if(t.some((function(t){return t.ingTitle===e[n].ingTitle&&t.unit===e[n].unit})))return"continue";var c=e.filter((function(t){return t.ingTitle===e[n].ingTitle&&t.unit===e[n].unit})).reduce((function(e,t){return e+Number(t.amount)}),0);t.push({ingTitle:e[n].ingTitle,amount:c,unit:e[n].unit})},c=0;c<e.length;c++)n(c);b(t)}()}),[o]),Object(d.jsxs)("div",{className:"calculate-container",children:[Object(d.jsx)("h2",{className:"recipesToCookTitle",children:"Recipes to Cook"}),Object(d.jsx)("div",{className:"recipesToCook",children:0===i.length?"Please add recipes to cook":i.map((function(e,t){return Object(d.jsxs)("div",{className:"recipeToCook-container",children:[Object(d.jsx)("h4",{className:"recipeToCook-title",children:e.title}),Object(d.jsx)("button",{className:"recipeToCook-remove",onClick:function(e){return function(e,t){e.preventDefault(),r(i.filter((function(e,n){return n!==t})))}(e,t)},children:"x"})]},t)}))}),Object(d.jsx)("h2",{className:"ingsToCookTitle",children:"Ingredients to buy "}),Object(d.jsx)("div",{className:"ingsToCook",children:0===O.length?"No ingredients to buy":O.map((function(e,t){return Object(d.jsx)("div",{className:"ingToCook-container",children:Object(d.jsxs)("p",{children:[e.ingTitle," ",e.amount," ",e.unit]})},t)}))})]})}function f(e){return Object(d.jsx)("button",{onClick:e.toggleAddForm,className:e.isOpenAdd?"btn add-btn":"btn close-btn",children:e.isOpenAdd?"ADD":"CLOSE FORM"})}var h=n(7),m=n(9),v=n(11);function x(e){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT;var t=Object(c.useState)(""),n=Object(l.a)(t,2),i=n[0],r=n[1],a=Object(c.useState)(""),s=Object(l.a)(a,2),p=s[0],j=s[1],O=Object(c.useState)([]),b=Object(l.a)(O,2),f=b[0],x=b[1];function g(e,t){e.preventDefault(),e.persist(),x((function(n){return n.map((function(n,c){return c!==t?n:Object(m.a)(Object(m.a)({},n),{},Object(h.a)({},e.target.name,e.target.value))}))}))}Object(c.useEffect)((function(){e.allowEdit&&(function(){var t=Object(u.a)(o.a.mark((function t(){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.idToEdit));case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,r(c.title),j(c.description),x(c.ingredients);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),e.disallowEdit())}));return Object(d.jsx)("div",{className:"addForm-container",children:Object(d.jsxs)("form",{className:"add-form",onSubmit:function(t){t.preventDefault(),e.showEdit?(e.finishEdit(e.idToEdit,{title:i,description:p,ingredients:f}),alert("You have Edited a recipe")):(e.onAdd({title:i,description:p,ingredients:f}),alert("You have added a recipe")),e.toggleAddForm(!0)},children:[Object(d.jsx)("label",{className:"rec-descriptor-text",children:"Recipe Name"}),Object(d.jsx)("input",{className:"title-input",type:"text",placeholder:"e.g Pizza",value:i,onChange:function(e){return r(e.target.value)},required:!0}),Object(d.jsx)("label",{className:"rec-descriptor-text",children:"Recipe Description"}),Object(d.jsx)("textarea",{className:"description-input",placeholder:"e.g Put the pizza in oven...",value:p,onChange:function(e){return j(e.target.value)},required:!0}),Object(d.jsx)("label",{className:"rec-descriptor-text",children:"Recipe Ingredients"}),Object(d.jsx)("div",{className:"recipe-ings",children:f.map((function(e,t){return Object(d.jsxs)("div",{className:"recipe-ing",children:[Object(d.jsxs)("h5",{children:["#",t+1]}),Object(d.jsx)("input",{placeholder:"Ing name",name:"ingTitle",type:"text",onChange:function(e){return g(e,t)},value:e.ingTitle}),Object(d.jsx)("input",{placeholder:"Amount",name:"amount",type:"number",onChange:function(e){return g(e,t)},value:e.amount}),Object(d.jsx)("input",{placeholder:"Unit",name:"unit",type:"text",onChange:function(e){return g(e,t)},value:e.unit}),Object(d.jsx)("button",{onClick:function(e){return function(e,t){e.preventDefault(),x((function(e){return e.filter((function(n){return n!==e[t]}))}))}(e,t)},className:"remove-ing",children:"X"})]},"ing-".concat(t))}))}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(e){e.preventDefault();var t={ingTitle:"",amount:"",unit:""};x((function(e){return[].concat(Object(v.a)(e),[t])}))},className:"add-ing",children:"ADD INGREDIENT"}),Object(d.jsx)("input",{type:"submit",value:"SAVE RECIPE",className:"submit-form-btn"})]})]})})}function g(e){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT;var t=Object(c.useState)(!1),n=Object(l.a)(t,2),i=n[0],r=n[1],a=Object(c.useState)(!0),s=Object(l.a)(a,2),h=s[0],m=s[1],v=Object(c.useState)(!1),g=Object(l.a)(v,2),S=g[0],T=g[1];function E(e){I(!1),r(!i),w(!1),!0===e?(m(!0),ne(!1),W(!1)):(m(!h),ne(!te),W(!K))}function N(){return(N=Object(u.a)(o.a.mark((function t(n){var c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("add-recipe",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 2:return c=t.sent,t.next=5,c.json();case 5:i=t.sent,e.onUpdate(i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C=Object(c.useState)(!1),y=Object(l.a)(C,2),D=y[0],w=y[1],k=Object(c.useState)(!1),R=Object(l.a)(k,2),A=R[0],I=R[1],_=Object(c.useState)({}),P=Object(l.a)(_,2),F=P[0],H=P[1],L=Object(c.useState)(!1),U=Object(l.a)(L,2),K=U[0],W=U[1];function M(e){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!i),w(!0),I(!0),H(t),W(!K),m(!h),ne(!te);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(u.a)(o.a.mark((function t(n,c){var i,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(c)});case 2:return i=t.sent,t.next=5,i.json();case 5:r=t.sent,e.onUpdate(r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var V=Object(c.useState)(!1),B=Object(l.a)(V,2),Y=B[0],q=B[1],G=Object(c.useState)(!0),X=Object(l.a)(G,2),Q=X[0],Z=X[1],$=Object(c.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)({}),ie=Object(l.a)(ce,2),re=ie[0],ae=ie[1];function se(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,ae(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=Object(c.useState)(!1),le=Object(l.a)(ue,2),de=le[0],pe=le[1],je=Object(c.useState)(""),Oe=Object(l.a)(je,2),be=Oe[0],fe=Oe[1],he=Object(c.useState)(""),me=Object(l.a)(he,2),ve=me[0],xe=me[1],ge=Object(c.useState)(""),Se=Object(l.a)(ge,2),Te=Se[0],Ee=Se[1];function Ne(){pe(!de)}function Ce(e,t,n){fe(e),xe(t),Ee(n)}return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"container-1",id:"style-9",children:[0===e.recipes.length?"Please Add recipes":e.recipes.map((function(t,n){return Object(d.jsx)(p,{isOpenAdd:h,isOpenCalc:Q,isOpenEdit:K,getRecipe:se,toggleRecDet:Ne,updateRecipeDet:Ce,onRemove:e.onRemove,onEdit:M,recipeTitle:t.title,recipeDescription:t.description,recipeIngredients:t.ingredients,recipeId:t._id},"recipe-".concat(n))})),Object(d.jsxs)("div",{className:"add-calc-btns",children:[S?null:Object(d.jsx)(f,{toggleAddForm:E,isOpenAdd:h}),te?null:Object(d.jsx)(O,{toggleCalculate:function(e){e.preventDefault(),q(!Y),Z(!Q),T(!S)},isOpenCalc:Q})]})]}),de?Object(d.jsx)("div",{className:"container-2",id:"style-9",children:Object(d.jsx)(j,{recipeTitle:be,recipeDescription:ve,recipeIngredients:Te})}):null,i?Object(d.jsx)("div",{className:"container-3",id:"style-9",children:Object(d.jsx)(x,{toggleAddForm:E,onAdd:function(e){return N.apply(this,arguments)},showEdit:D,allowEdit:A,disallowEdit:function(){I(!1)},finishEdit:function(e,t){return J.apply(this,arguments)},idToEdit:F})}):null,Y?Object(d.jsx)("div",{className:"container-4",id:"style-9",children:Object(d.jsx)(b,{recipeToShop:re})}):null]})}var S=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),i=Object(l.a)(n,2),r=i[0],a=i[1];function s(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("recipes");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/recipes/".concat(t),{method:"DELETE"});case 2:a(r.filter((function(e){return e.id!==t}))),function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),console.log(r)}),[]),Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(g,{onUpdate:function(e){a(r.concat([e])),function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},recipes:r,onRemove:function(e){return j.apply(this,arguments)}})})};n(18);a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.357b1df3.chunk.js.map