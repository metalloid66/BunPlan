{"version":3,"sources":["components/Recipe.jsx","components/RecipeDet.jsx","components/CalculateBtn.jsx","components/Calculate.jsx","components/AddBtn.jsx","components/RecipeAddForm.jsx","components/Recipes.jsx","App.js","index.js"],"names":["Recipe","props","useState","isHovered","setIsHovered","toggleRecipeBtns","e","preventDefault","className","onMouseEnter","onMouseLeave","onClick","toggleRecDet","updateRecipeDet","recipeTitle","recipeDescription","recipeIngredients","isOpenEdit","isOpenCalc","isOpenAdd","window","history","replaceState","recipeId","onEdit","onRemove","getRecipe","RecipeDet","Object","entries","map","ing","index","ingTitle","amount","unit","CalculateBtn","toggleCalculate","Calculate","recipesToCook","setRecipesToCook","ingsToBuy","setIngsToBuy","finalIngs","setFinalIngs","useEffect","recipeToShop","title","concat","console","log","recipes","ingsOfRecipes","forEach","recipe","push","ingredients","ingsToBuyUpdater","ingsFlat","flat","finalResult","i","some","el","finalAmount","filter","reduce","acc","cur","Number","length","calcFinal","recipeToCook","_","removeRecipeFromCook","finalIng","AddBtn","toggleAddForm","RecipeAddForm","process","PORT","recipeName","setRecipeName","recipeDes","setRecipeDes","recipeIngs","setRecipeIngs","onChangeIngs","event","persist","prev","target","name","value","allowEdit","a","fetch","idToEdit","toEditRecipe","json","toEditRecipeData","description","decfunction","disallowEdit","onSubmit","showEdit","finishEdit","alert","onAdd","type","placeholder","onChange","required","item","handleRemoveIng","Recipes","showAddForm","setShowAddForm","setIsOpenAdd","hideAdd","setHideAdd","finishSubmit","setAllowEdit","setShowEdit","setHideCalc","setIsOpenEdit","hideCalc","method","headers","body","JSON","stringify","res","data","onUpdate","setIdToEdit","editRecipe","id","editedRecipe","showCalculate","setShowCalculate","setIsOpenCalc","setRecipeToShop","showRecDet","setRecDet","setRecipeTitle","setRecipeDescription","setRecipeIngredients","recTitle","recDes","recIngs","_id","App","recipeState","setRecipeState","fetchRecipes","recipesFromServer","getRecipes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.357b1df3.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nexport default function Recipe(props) {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  function toggleRecipeBtns(e) {\r\n    e.preventDefault();\r\n    setIsHovered(!isHovered);\r\n  }\r\n  function setDets() {\r\n    props.toggleRecDet();\r\n    props.updateRecipeDet(\r\n      props.recipeTitle,\r\n      props.recipeDescription,\r\n      props.recipeIngredients\r\n    );\r\n  }\r\n  return (\r\n    <div\r\n      className=\"recipe-container\"\r\n      onMouseEnter={(e) => toggleRecipeBtns(e)}\r\n      onMouseLeave={(e) => toggleRecipeBtns(e)}\r\n    >\r\n      <h3 onClick={setDets} className=\"recipe-title\">\r\n        {props.recipeTitle}\r\n      </h3>\r\n      {/* extra div to seperate between edit and (add/calc) forms*/}\r\n\r\n      {props.isOpenEdit ? null : ( // if form is taken by edit, hide recipe btns\r\n        <>\r\n          {props.isOpenCalc ? ( // isOpenCalc === false ?\r\n            <div\r\n              className={\r\n                !isHovered || !props.isOpenAdd ? \"hide\" : \"edit-recipe-btn\"\r\n              }\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                window.history.replaceState(\r\n                  //change the url without reloading\r\n                  null,\r\n                  null,\r\n                  `/recipes/${props.recipeId}`\r\n                );\r\n                props.onEdit(props.recipeId);\r\n              }}\r\n            >\r\n              EDIT\r\n            </div>\r\n          ) : null}\r\n          {props.isOpenCalc ? ( // isOpenCalc === false ?\r\n            <div\r\n              className={\r\n                !isHovered || !props.isOpenAdd ? \"hide\" : \"remove-recipe-btn\"\r\n              }\r\n              onClick={() => {\r\n                props.onRemove(props.recipeId);\r\n              }}\r\n            >\r\n              REMOVE\r\n            </div>\r\n          ) : null}\r\n          {!props.isOpenCalc ? ( // isOpenCalc === true?\r\n            <div\r\n              className={!isHovered ? \"hide\" : \"openCalc-btn\"}\r\n              onClick={() => {\r\n                props.getRecipe(props.recipeId);\r\n                window.history.replaceState(\r\n                  //change the url without reloading\r\n                  null,\r\n                  null,\r\n                  `/recipes/${props.recipeId}`\r\n                );\r\n              }}\r\n            >\r\n              Add To List\r\n            </div>\r\n          ) : null}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { React } from \"react\";\r\nexport default function RecipeDet(props) {\r\n  return (\r\n    <div className=\"recipeDet-container\">\r\n      <h2 className=\"recipeDet-title\">How to cook {props.recipeTitle}?</h2>\r\n      <div className=\"recipeDet-des\">\r\n        <p>{props.recipeDescription}</p>\r\n      </div>\r\n      <div className=\"recipeDet-ings\">\r\n        <h4>You will need:</h4>\r\n        {Object.entries(props.recipeIngredients).map((ing, index) => {\r\n          return (\r\n            <p key={`ing-${index}`}>\r\n              {ing[1].ingTitle} {ing[1].amount} {ing[1].unit}\r\n              <br />\r\n            </p>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function CalculateBtn(props) {\r\n  return (\r\n    <button\r\n      className={!props.isOpenCalc ? \"btn close-btn\" : \"btn calculate-btn\"}\r\n      onClick={props.toggleCalculate}\r\n    >\r\n      {!props.isOpenCalc ? \"CLOSE SHOP\" : \"SHOP\"}\r\n    </button>\r\n  );\r\n}\r\n","import { React, useState, useEffect } from \"react\";\r\n\r\nexport default function Calculate(props) {\r\n  // let [allRecipes, setAllRecipes] = useState([]);\r\n  let [recipesToCook, setRecipesToCook] = useState([]);\r\n  let [ingsToBuy, setIngsToBuy] = useState([]);\r\n  let [finalIngs, setFinalIngs] = useState([]);\r\n  // Get Recipe to shop\r\n  useEffect(() => {\r\n    if (props.recipeToShop.title) {\r\n      setRecipesToCook(recipesToCook.concat([props.recipeToShop]));\r\n      console.log(recipesToCook);\r\n    }\r\n  }, [props.recipeToShop]);\r\n\r\n  useEffect(() => {\r\n    ingsToBuyUpdater(recipesToCook);\r\n  }, [recipesToCook]);\r\n\r\n  useEffect(() => {\r\n    calcFinal();\r\n  }, [ingsToBuy]);\r\n\r\n  // Remove Recipe From Cook\r\n  function removeRecipeFromCook(e, index) {\r\n    e.preventDefault();\r\n    setRecipesToCook(recipesToCook.filter((_, i) => i !== index));\r\n  }\r\n\r\n  // Ingridents to buy\r\n  function ingsToBuyUpdater(recipes) {\r\n    let ingsOfRecipes = [];\r\n    recipes.forEach((recipe) => {\r\n      ingsOfRecipes.push(recipe.ingredients);\r\n    });\r\n    setIngsToBuy(ingsOfRecipes);\r\n  }\r\n  function calcFinal() {\r\n    let ingsFlat = ingsToBuy.flat();\r\n    let finalResult = [];\r\n    for (let i = 0; i < ingsFlat.length; i++) {\r\n      if (\r\n        finalResult.some(\r\n          (el) =>\r\n            el.ingTitle === ingsFlat[i].ingTitle && el.unit === ingsFlat[i].unit\r\n        )\r\n      )\r\n        continue;\r\n      let similar = ingsFlat.filter(\r\n        (el) =>\r\n          el.ingTitle === ingsFlat[i].ingTitle && el.unit === ingsFlat[i].unit\r\n      );\r\n      let finalAmount = similar.reduce((acc, cur) => {\r\n        return acc + Number(cur.amount);\r\n      }, 0);\r\n      finalResult.push({\r\n        ingTitle: ingsFlat[i].ingTitle,\r\n        amount: finalAmount,\r\n        unit: ingsFlat[i].unit,\r\n      });\r\n    }\r\n    setFinalIngs(finalResult);\r\n  }\r\n  return (\r\n    <div className=\"calculate-container\">\r\n      <h2 className=\"recipesToCookTitle\">Recipes to Cook</h2>\r\n      <div className=\"recipesToCook\">\r\n        {recipesToCook.length === 0\r\n          ? \"Please add recipes to cook\"\r\n          : recipesToCook.map((recipeToCook, index) => {\r\n              return (\r\n                <div key={index} className=\"recipeToCook-container\">\r\n                  <h4 className=\"recipeToCook-title\">{recipeToCook.title}</h4>\r\n                  <button\r\n                    className=\"recipeToCook-remove\"\r\n                    onClick={(e) => removeRecipeFromCook(e, index)}\r\n                  >\r\n                    x\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n      </div>\r\n\r\n      <h2 className=\"ingsToCookTitle\">Ingredients to buy </h2>\r\n      <div className=\"ingsToCook\">\r\n        {finalIngs.length === 0\r\n          ? \"No ingredients to buy\"\r\n          : finalIngs.map((finalIng, index) => {\r\n              return (\r\n                <div key={index} className=\"ingToCook-container\">\r\n                  <p>\r\n                    {finalIng.ingTitle} {finalIng.amount} {finalIng.unit}\r\n                  </p>\r\n                </div>\r\n              );\r\n            })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function AddBtn(props) {\r\n  return (\r\n    <button\r\n      onClick={props.toggleAddForm}\r\n      className={props.isOpenAdd ? \"btn add-btn\" : \"btn close-btn\"}\r\n    >\r\n      {props.isOpenAdd ? \"ADD\" : \"CLOSE FORM\"}\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function RecipeAddForm(props) {\r\n  const port = process.env.PORT || 5000;\r\n  let [recipeName, setRecipeName] = useState(\"\");\r\n  let [recipeDes, setRecipeDes] = useState(\"\");\r\n  let [recipeIngs, setRecipeIngs] = useState([]);\r\n\r\n  // Handling a recipe edit\r\n  useEffect(() => {\r\n    if (props.allowEdit) {\r\n      async function decfunction() {\r\n        let toEditRecipe = await fetch(`${props.idToEdit}`);\r\n        let toEditRecipeData = await toEditRecipe.json();\r\n        setRecipeName(toEditRecipeData.title);\r\n        setRecipeDes(toEditRecipeData.description);\r\n        setRecipeIngs(toEditRecipeData.ingredients);\r\n      }\r\n      decfunction();\r\n      props.disallowEdit();\r\n    }\r\n  });\r\n\r\n  // Submitting the form\r\n  function onSubmitFunc(e) {\r\n    e.preventDefault();\r\n    if (!props.showEdit) {\r\n      props.onAdd({\r\n        title: recipeName,\r\n        description: recipeDes,\r\n        ingredients: recipeIngs,\r\n      });\r\n      alert(\"You have added a recipe\");\r\n    } else {\r\n      props.finishEdit(props.idToEdit, {\r\n        title: recipeName,\r\n        description: recipeDes,\r\n        ingredients: recipeIngs,\r\n      });\r\n      alert(\"You have Edited a recipe\");\r\n    }\r\n    const finishedSubmit = true;\r\n    props.toggleAddForm(finishedSubmit);\r\n  }\r\n\r\n  // Handling adding an ingredient\r\n  function handleAddIng(e) {\r\n    e.preventDefault();\r\n    const ing = {\r\n      ingTitle: \"\",\r\n      amount: \"\",\r\n      unit: \"\",\r\n    };\r\n    setRecipeIngs((prev) => [...prev, ing]);\r\n  }\r\n  // Handling changes in ingredient fields\r\n  function onChangeIngs(event, index) {\r\n    event.preventDefault();\r\n    event.persist();\r\n    setRecipeIngs((prev) => {\r\n      return prev.map((ing, i) => {\r\n        if (i !== index) {\r\n          return ing;\r\n        }\r\n        return {\r\n          ...ing,\r\n          [event.target.name]: event.target.value,\r\n        };\r\n      });\r\n    });\r\n  }\r\n  // Removing an ingredient\r\n  const handleRemoveIng = (e, index) => {\r\n    e.preventDefault();\r\n    setRecipeIngs((prev) => prev.filter((item) => item !== prev[index]));\r\n  };\r\n\r\n  return (\r\n    <div className=\"addForm-container\">\r\n      <form className=\"add-form\" onSubmit={onSubmitFunc}>\r\n        <label className=\"rec-descriptor-text\">Recipe Name</label>\r\n        <input\r\n          className=\"title-input\"\r\n          type=\"text\"\r\n          placeholder=\"e.g Pizza\"\r\n          value={recipeName}\r\n          onChange={(e) => setRecipeName(e.target.value)}\r\n          required\r\n        />\r\n        <label className=\"rec-descriptor-text\">Recipe Description</label>\r\n        <textarea\r\n          className=\"description-input\"\r\n          placeholder=\"e.g Put the pizza in oven...\"\r\n          value={recipeDes}\r\n          onChange={(e) => setRecipeDes(e.target.value)}\r\n          required\r\n        />\r\n        <label className=\"rec-descriptor-text\">Recipe Ingredients</label>\r\n        <div className=\"recipe-ings\">\r\n          {recipeIngs.map((ing, index) => {\r\n            return (\r\n              <div className=\"recipe-ing\" key={`ing-${index}`}>\r\n                <h5>#{index + 1}</h5>\r\n                <input\r\n                  placeholder=\"Ing name\"\r\n                  name=\"ingTitle\"\r\n                  type=\"text\"\r\n                  onChange={(e) => onChangeIngs(e, index)}\r\n                  value={ing.ingTitle}\r\n                />\r\n                <input\r\n                  placeholder=\"Amount\"\r\n                  name=\"amount\"\r\n                  type=\"number\"\r\n                  onChange={(e) => onChangeIngs(e, index)}\r\n                  value={ing.amount}\r\n                />\r\n                <input\r\n                  placeholder=\"Unit\"\r\n                  name=\"unit\"\r\n                  type=\"text\"\r\n                  onChange={(e) => onChangeIngs(e, index)}\r\n                  value={ing.unit}\r\n                />\r\n                <button\r\n                  onClick={(e) => handleRemoveIng(e, index)}\r\n                  className=\"remove-ing\"\r\n                >\r\n                  X\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div>\r\n          <button onClick={handleAddIng} className=\"add-ing\">\r\n            ADD INGREDIENT\r\n          </button>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"SAVE RECIPE\"\r\n            className=\"submit-form-btn\"\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { React, useState } from \"react\";\r\nimport Recipe from \"./Recipe\";\r\nimport RecipeDet from \"./RecipeDet\";\r\nimport CalculateBtn from \"./CalculateBtn\";\r\nimport Calculate from \"./Calculate\";\r\nimport AddBtn from \"./AddBtn\";\r\nimport RecipeAddForm from \"./RecipeAddForm\";\r\n\r\nexport default function Recipes(props) {\r\n  const port = process.env.PORT || 5000;\r\n\r\n  /* States & handler functions for RecipeAddForm */\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [isOpenAdd, setIsOpenAdd] = useState(true);\r\n  const [hideAdd, setHideAdd] = useState(false);\r\n\r\n  // Toggle form recipes\r\n  function toggleAddForm(finishSubmit) {\r\n    setAllowEdit(false);\r\n    setShowAddForm(!showAddForm);\r\n    setShowEdit(false);\r\n    // temp submit from edit solution\r\n    if (finishSubmit === true) {\r\n      setIsOpenAdd(true);\r\n      setHideCalc(false);\r\n      setIsOpenEdit(false);\r\n    } else {\r\n      setIsOpenAdd(!isOpenAdd);\r\n      setHideCalc(!hideCalc);\r\n      setIsOpenEdit(!isOpenEdit);\r\n    }\r\n  }\r\n\r\n  // Adding Recipe From Form\r\n  async function addRecipe(recipe) {\r\n    const res = await fetch(`add-recipe`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-type\": \"application/json\" },\r\n      body: JSON.stringify(recipe),\r\n    });\r\n    const data = await res.json();\r\n    props.onUpdate(data);\r\n  }\r\n\r\n  /* States & handler functions for Edit */\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [allowEdit, setAllowEdit] = useState(false);\r\n  const [idToEdit, setIdToEdit] = useState({});\r\n  //experimental\r\n  const [isOpenEdit, setIsOpenEdit] = useState(false);\r\n\r\n  // Toggle A Recipe to edit\r\n  async function editRecipe(id) {\r\n    setShowAddForm(!showAddForm);\r\n    setShowEdit(true);\r\n    setAllowEdit(true);\r\n    setIdToEdit(id);\r\n    //experimental\r\n    setIsOpenEdit(!isOpenEdit);\r\n    setIsOpenAdd(!isOpenAdd);\r\n    setHideCalc(!hideCalc);\r\n  }\r\n\r\n  // Stop infinite edits loop\r\n  function disallowEdit() {\r\n    setAllowEdit(false);\r\n  }\r\n\r\n  // Finalize Edit and PUT\r\n  async function finishEdit(id, editedRecipe) {\r\n    const res = await fetch(id, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-type\": \"application/json\" },\r\n      body: JSON.stringify(editedRecipe),\r\n    });\r\n    const data = await res.json();\r\n    props.onUpdate(data);\r\n  }\r\n\r\n  /* States & handler functions for Calculate */\r\n  const [showCalculate, setShowCalculate] = useState(false);\r\n  const [isOpenCalc, setIsOpenCalc] = useState(true);\r\n  const [hideCalc, setHideCalc] = useState(false);\r\n  const [recipeToShop, setRecipeToShop] = useState({});\r\n\r\n  // Toggle Calculate\r\n  function toggleCalculate(e) {\r\n    e.preventDefault();\r\n    setShowCalculate(!showCalculate);\r\n    setIsOpenCalc(!isOpenCalc);\r\n    setHideAdd(!hideAdd);\r\n  }\r\n\r\n  // Get Recipes's ID to shop in Calculate list\r\n  async function getRecipe(id) {\r\n    let recipe = await fetch(id);\r\n    let data = await recipe.json();\r\n    setRecipeToShop(data);\r\n  }\r\n\r\n  /* States & handler functions for RecipeDet */\r\n  let [showRecDet, setRecDet] = useState(false);\r\n  let [recipeTitle, setRecipeTitle] = useState(\"\");\r\n  let [recipeDescription, setRecipeDescription] = useState(\"\");\r\n  let [recipeIngredients, setRecipeIngredients] = useState(\"\");\r\n\r\n  function toggleRecDet() {\r\n    setRecDet(!showRecDet);\r\n  }\r\n  function updateRecipeDet(recTitle, recDes, recIngs) {\r\n    setRecipeTitle(recTitle);\r\n    setRecipeDescription(recDes);\r\n    setRecipeIngredients(recIngs);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"container-1\" id=\"style-9\">\r\n        {props.recipes.length === 0\r\n          ? \"Please Add recipes\"\r\n          : props.recipes.map((recipe, index) => {\r\n              return (\r\n                <Recipe\r\n                  isOpenAdd={isOpenAdd}\r\n                  isOpenCalc={isOpenCalc}\r\n                  isOpenEdit={isOpenEdit}\r\n                  getRecipe={getRecipe}\r\n                  toggleRecDet={toggleRecDet}\r\n                  updateRecipeDet={updateRecipeDet}\r\n                  key={`recipe-${index}`}\r\n                  onRemove={props.onRemove}\r\n                  onEdit={editRecipe}\r\n                  recipeTitle={recipe.title}\r\n                  recipeDescription={recipe.description}\r\n                  recipeIngredients={recipe.ingredients}\r\n                  // recipeId={recipe.id}\r\n                  recipeId={recipe._id}\r\n                />\r\n              );\r\n            })}\r\n        <div className=\"add-calc-btns\">\r\n          {hideAdd ? null : (\r\n            <AddBtn toggleAddForm={toggleAddForm} isOpenAdd={isOpenAdd} />\r\n          )}\r\n          {hideCalc ? null : (\r\n            <CalculateBtn\r\n              toggleCalculate={toggleCalculate}\r\n              isOpenCalc={isOpenCalc}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {\r\n        showRecDet ? (\r\n          <div className=\"container-2\" id=\"style-9\">\r\n            <RecipeDet\r\n              recipeTitle={recipeTitle}\r\n              recipeDescription={recipeDescription}\r\n              recipeIngredients={recipeIngredients}\r\n            />\r\n          </div>\r\n        ) : null\r\n\r\n        //\r\n      }\r\n\r\n      {showAddForm ? (\r\n        <div className=\"container-3\" id=\"style-9\">\r\n          <RecipeAddForm\r\n            toggleAddForm={toggleAddForm}\r\n            onAdd={addRecipe}\r\n            showEdit={showEdit}\r\n            allowEdit={allowEdit}\r\n            disallowEdit={disallowEdit}\r\n            finishEdit={finishEdit}\r\n            idToEdit={idToEdit}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {showCalculate ? (\r\n        <div className=\"container-4\" id=\"style-9\">\r\n          <Calculate recipeToShop={recipeToShop} />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import Recipes from \"./components/Recipes\";\nimport { useState, useEffect } from \"react\";\nfunction App() {\n  const [data, setData] = useState(null);\n\n  let [recipeState, setRecipeState] = useState([]);\n  // On page load\n  useEffect(() => {\n    const getRecipes = async () => {\n      const recipesFromServer = await fetchRecipes();\n      setRecipeState(recipesFromServer);\n    };\n    getRecipes();\n    console.log(recipeState);\n  }, []); // not sure of how dangerous...\n\n  // Fetch reipes from backend - GET\n  async function fetchRecipes() {\n    const res = await fetch(\"recipes\"); // gotten from backend\n    const data = await res.json();\n    return data;\n  }\n\n  // Updating the recipe state - POST/PUT\n  function onUpdate(recipe) {\n    setRecipeState(recipeState.concat([recipe]));\n    const getRecipes = async () => {\n      const recipesFromServer = await fetchRecipes();\n      setRecipeState(recipesFromServer);\n    };\n    getRecipes();\n  }\n\n  // Deleting a recipe (UI and Server) - DELETE\n  async function removeRecipe(id) {\n    await fetch(`/recipes/${id}`, {\n      method: \"DELETE\",\n    });\n    setRecipeState(recipeState.filter((recipe) => recipe.id !== id));\n    const getRecipes = async () => {\n      // redundant but will do for now\n      const recipesFromServer = await fetchRecipes();\n      setRecipeState(recipesFromServer);\n    };\n    getRecipes();\n  }\n\n  // Rendering\n  return (\n    <div className=\"App\">\n      <Recipes\n        onUpdate={onUpdate}\n        recipes={recipeState}\n        onRemove={removeRecipe}\n      />\n    </div>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}